# Product Overview

## Product Purpose
history-quiz は、世界史の学習者が4択クイズを通じて知識の定着度を確認できる学習アプリである。あわせて、ユーザーが自作の4択問題を作成・管理できることで、学習内容を自分のペースで拡張できる体験を提供する。

## Target Users
- 世界史を学習している学生・社会人（短時間で反復練習したい）
- 資格試験・受験対策の学習者（正誤判定で弱点を把握したい）
- 自分のノートや学習範囲に合わせた問題を作りたい学習者（自作問題で学習を補強したい）

## Key Features
1. **クイズモード（4択出題 + 即時判定）**: 1問ずつ4択問題を表示し、回答選択後に正誤を即時表示する。  
2. **連続学習（次の問題へ進む）**: 判定表示後に次問へ進め、複数問を連続で解ける。  
3. **問題作成モード（作成・保存・バリデーション）**: 問題文、選択肢4つ、正解を入力して保存し、必須項目不足はエラー表示する。  
4. **作成済み問題の出題利用**: 保存済み問題をクイズ出題対象に含め、存在しない場合は既定問題セットを用いる。  
5. **マイページ（学習・作問の見える化）**: 解答履歴と正答率、作成した問題一覧（空状態含む）を表示する。  
6. **問題編集**: 作成済み問題を編集し、更新結果と入力不備エラーを表示する。  
7. **ログイン（作問/マイページの利用）**: 認証フォームでログインし、未認証時はマイページ・問題作成へのアクセスでログインを促す。  

## Business Objectives
- 学習用途として「すぐ解ける」「続けられる」軽量なクイズ体験を提供する
- 自作問題によるコンテンツ拡張で継続利用を促進する
- 学習の可視化（履歴・正答率）により自己学習の改善サイクルを支援する
- クライアント・APIGateway・バックエンド分離（HTTP/JSON + gRPC）で拡張可能な構成を確立する

## Success Metrics
- **継続利用**: 7日継続率（例: 20% 以上）
- **学習量**: 1ユーザーあたりの週間回答数（例: 50問/週 以上）
- **作問活用**: 作成問題の作成数（例: 2問/週 以上）と、作成問題が出題された割合
- **体験品質**: クイズ取得〜判定表示までの平均 500ms 以内（ローカル環境目標）
- **登録体験**: 問題登録の平均 1s 以内（ローカル環境目標）

## Product Principles
1. **学習の摩擦を最小化する**: すぐ始められ、すぐ判定が返るテンポの良い導線を優先する。  
2. **自分の範囲で学べる拡張性**: 自作問題が学習体験の中心に組み込まれ、継続的に増やせる。  
3. **可視化で改善を促す**: 履歴・正答率を分かりやすく提示し、次に何を学ぶか判断しやすくする。  
4. **責務分離で保守しやすくする**: フロント、APIGateway、バックエンドを明確に分離し、インターフェースを明文化する。  
5. **安全性と信頼性を担保する**: 入力バリデーション、認証/認可、エラー時の再試行可能性を重視する。  

## Monitoring & Visibility (if applicable)
- **Dashboard Type**: Web（マイページ）
- **Real-time Updates**: 基本は操作起点の更新（将来的に必要があればリアルタイム化を検討）
- **Key Metrics Displayed**: 解答履歴、正答率、作成問題一覧（空状態の説明を含む）
- **Sharing Capabilities**: 現時点では想定しない（将来の要件として検討）

## Future Vision
学習の継続を支えるため、出題の最適化と学習分析を段階的に拡張する。

### Potential Enhancements
- **Analytics**: 分野別正答率、弱点推定、学習推移の可視化
- **Collaboration**: 問題の共有、共同編集、公開/非公開の設定
- **Personalization**: 苦手分野の優先出題、復習間隔の最適化
